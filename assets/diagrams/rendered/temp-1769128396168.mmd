flowchart TD
    subgraph Client["Client Layer"]
        Web[Web Application]
        Mobile[Mobile App]
        API_Client[API Clients]
        VPN_Client[VPN Clients]
    end
    
    subgraph LB["Load Balancer Layer"]
        AppLB[Application Load Balancer<br/>HTTP/HTTPS]
        NetLB[Network Load Balancer<br/>TCP/UDP]
    end
    
    subgraph K8s["Kubernetes Cluster"]
        subgraph System["System Components"]
            LBC[Load Balancer Controller]
            Autoscaler[Cluster Autoscaler]
            MetricsServer[Metrics Server]
            BlockCSI[Block Storage CSI Driver]
            FileCSI[File Storage CSI Driver]
            SecretCSI[Secret Store CSI Driver]
        end
        
        subgraph Apps["Application Services"]
            AppService1[Application Service 1]
            AppService2[Application Service 2]
            AppServiceN[Application Service N]
        end
        
        subgraph Monitoring["Observability Stack"]
            Mimir[Mimir Metrics]
            Loki[Loki Logs]
            Tempo[Tempo Traces]
            Alertmanager[Alertmanager]
        end
    end
    
    subgraph Storage["Storage Layer"]
        BlockStorage[(Block Storage<br/>Persistent Volumes)]
        FileStorage[(File Storage<br/>Shared Filesystem)]
        ObjectStorage[(Object Storage<br/>Metrics, Logs, Traces)]
        Cache[(Cache Layer<br/>Redis/Valkey)]
    end
    
    subgraph Cloud["Cloud Services"]
        CloudIAM[Cloud IAM<br/>Pod Identity]
        SecretsMgr[Secrets Manager]
        CloudLogs[Cloud Logging]
    end
    
    subgraph VPN["VPN & CI/CD"]
        VPNServer[VPN Gateway<br/>Site-to-Site]
        CI_CD[CI/CD Agent]
    end
    
    Web --> AppLB
    Mobile --> AppLB
    API_Client --> AppLB
    VPN_Client --> VPNServer
    
    AppLB --> AppService1
    AppLB --> AppService2
    AppLB --> AppServiceN
    NetLB --> AppService1
    
    AppService1 --> BlockStorage
    AppService2 --> BlockStorage
    AppServiceN --> BlockStorage
    
    AppService1 --> FileStorage
    AppService2 --> FileStorage
    
    AppService1 --> Cache
    AppService2 --> Cache
    
    Mimir --> ObjectStorage
    Loki --> ObjectStorage
    Tempo --> ObjectStorage
    Alertmanager --> ObjectStorage
    
    AppService1 --> Mimir
    AppService2 --> Loki
    AppServiceN --> Tempo
    
    AppService1 --> SecretsMgr
    AppService2 --> SecretsMgr
    
    Autoscaler --> CloudLogs
    AppService1 --> CloudLogs
    
    LBC --> CloudIAM
    BlockCSI --> CloudIAM
    FileCSI --> CloudIAM
    SecretCSI --> CloudIAM
    AppService1 --> CloudIAM
    
    VPNServer --> CI_CD
    CI_CD --> AppService1